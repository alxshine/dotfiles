add-highlighter global/ number-lines
add-highlighter global/ show-matching
# add-highlighter global/ show-whitespaces
add-highlighter global/ wrap
set-option global tabstop 4

# add C highlighting to ino files
hook global BufCreate .*\.ino %{
    set-option buffer filetype c
}

# hook global WinCreate [^*]* %{
#         editorconfig-load
# }

hook global InsertChar . %{ try %{
        exec -draft hH <a-k>,\.<ret> d
            exec <esc>
}}

map global insert <tab> '<a-;><gt>'
map global insert <s-tab> '<a-;><lt>'

def ide %{
    rename-client main
    set global jumpclient main

    new rename-client tools
    set global toolsclient tools

    # new rename-client docs
    # set global docsclient docs
}

map global user b ':terminal kak -c %val{session}<ret>' -docstring 'split buffer into new terminal'
map global user t ':terminal %val{shell}<ret>' -docstring 'open new terminal at current location'
map global user c ':comment-line<ret>' -docstring 'comment marked lines'
map global user e ':make-next-error<ret>' -docstring 'goto next make error'

# binds
map global normal <F7> :make<ret>
map global normal <F6> :format<ret>
map global normal <a-s-c> %{<a-|>xclip -i -selection 'clipboard'<ret>}

# formatters
source "%val{config}/formatters.kak"

# snippets + config
source "%val{config}/occivink-snippets.kak"
source "%val{config}/occivink-snippets-directory.kak"
map global insert <c-k> '<a-;>:snippets-expand-trigger<ret>'
